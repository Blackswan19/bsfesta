<!DOCTYPE html> <html lang="en"> <head> <meta charset="UTF-8"> <meta name="viewport" content="width=device-width, initial-scale=1.0"> <title>BsFesta</title> <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"> <link rel="icon" type="image/x-icon" href="logo/logo.png"> <link rel="stylesheet" href="likeed.css"> <script src="mood.js"></script> </head> <body> <!-- Button to change font colors --> <div class="loading-screen"> <img class="frombs" src="logo/frombs.png" alt=""> <img src="logo/brand.png" class="img" alt="" width="5%"> <h1>BsFesta</h1> </div> <div id="player-interface"> <div class="promotion"> <a href="telnewarri.html"><img src="logo/telnewarr.png" alt=""></a> </div> <div class="dropdown"> <div class="header"> <a href="music.html" class="logopg"><img src="logo/brand.png" alt="" width="6%"></a><br> <div class="menu"> <a href="music.html" onclick="displayText(1)"><i class="fa-solid fa-house"></i>Home</a><br> <a href="minifesta.html"><i class="fa-brands fa-medium"></i>Mini Festa</a><br> </div> </div> </div> <div class="logolike"> <img src="logo/liked.png" alt=""> </div> <div class="skip"> <button id="previous-btn" style="opacity: 20%;"><i class="fa-solid fa-backward-step"></i></button> <button id="play-pause-btn"><i class="fa-solid fa-play"></i></button> <button id="next-btn"style="opacity: 20%;"><i class="fa-solid fa-forward-step"></i></button> </div> <div id="progress-bar"> <div class="progress"></div> </div> </div> <div class="controls"> <button class="btn2" id="fullScreenBtn" onclick="toggleFullScreen()"><i class="fa-solid fa-compress"></i></button> <button id="colorChangeButton">Turn on the light</button> <button id="speedUpButton" title="Speed up"><i class="fa-solid fa-plus"></i></button> <button id="slowDownButton" title="Speed down"><i class="fa-solid fa-minus"></i></button> <button id="stopAndBlackButton" title="Stop the lights"><i class="fa-solid fa-ban"></i></button> </div> <!-- Modal for full-screen video --> <div id="fullscreenVideoModal" class="video-popup"> <span class="video-close" onclick="hideVideo()">&times;</span> <div class="video-content"> <video id="popupVideoPlayer" autoplay loop muted playsinline> <source src="logo/bg.mp4" type="video/mp4"> Your browser does not support the video tag. </video> </div> </div> <div class="custom-menu"> <style> a{ text-decoration: none; } .custom-menu { display: none; position: fixed; background-color: #262626; border: 1px solid #242424; box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2); z-index: 1000; padding: 10px; border-radius: 5px; z-index: 1000; filter: drop-shadow(11px 12px 22px black); } .custom-menu button { display: block; width: 100%; border: none; background: none; text-align: left; padding: 12px; cursor: pointer; font-size: 18px; } .custom-menu button:hover { background-color: #404040; } </style> <a href="https://blackswan19.github.io/bsfesta/playlist"><button id="option1">Explore Playlists</button></a> <a href="https://blackswan19.github.io/bsfesta/likedlist"><button id="option2">Go to Liked one</button></a> <a href="https://blackswan19.github.io/bsfesta/minifesta"><button id="option2">Go to Mini Festa</button></a> <a href="https://blackswan19.github.io/bscrop/formbs"><button id="option2">More From BS</button></a> <a href="https://blackswan19.github.io/bsfesta/addhome"><button id="option2">Add to Home</button></a> </div> <style> .modal { display: none; /* Hidden by default */ position: fixed; z-index: 999; /* Sit on top */ left: 0; top: 0; width: 100%; /* Full width */ height: 100%; /* Full height */ overflow: auto; /* Enable scroll if needed */ background-color: rgb(0,0,0); /* Fallback color */ background-color: rgba(0,0,0,0.8); /* Black w/ opacity */ } .modal-content { background: none; padding: 20px; width: 80%; } .close-button { color: white; font-size: 35px; font-weight: 100; position: fixed; top: 15px; right: 30px; } p#modal-song-details { color: rgb(255, 255, 255); font-size: 100px; position: fixed; top: 25%; left: 9%; font-style: italic; font-weight: 800; } .close-button:hover, .close-button:focus { color: rgb(156, 156, 156); text-decoration: none; cursor: pointer; } </style> </head> <body> <div class="song-info" id="songInfo"> <img src="logo/playingBs.png" alt="Song Cover" style="width: 50px; height: 50px;"> <div class="song-details"> <p style="font-size: 13px; font-weight: 600;">Playing :</p> <p id="current-song-details" style="color: rgb(255, 255, 255);"></p> <i class="fa-solid fa-up-right-and-down-left-from-center" id="infoIcon"></i> </div> </div> <!-- Modal Structure --> <div id="songModal" class="modal"> <div class="modal-content"> <span class="close-button">&times;</span> <img src="logo/brand.png" alt="" style="width: 3%; position: fixed; top: 5px; left: 5px; background: black; padding: 10px; border-radius: 6px;"> <p id="modal-song-details" style="color: rgb(255, 255, 255);"></p> </div> </div> <div class="playlist"> <h1>Liked One</h1><br> <ul id="playlist"></ul> <button id="save-playlist-btn"></button> </div> <audio id="audio-player" controls></audio> <div class="notification" id="notification"></div>
<script>
            const colors = [
                '#FF0000', // Bright Red
                '#0000FF', // Bright Blue
                '#32CD32', // Lime Green
                '#FF1493', // Deep Pink
                '#FFA500', // Orange
                '#00BFFF', // Deep Sky Blue
                '#FF4500', // Orange Red
                '#1E90FF', // Dodger Blue
                '#9400D3', // Dark Violet
                '#FF6347', // Tomato
                '#40E0D0', // Turquoise
                '#8A2BE2', // Blue Violet
            ];
        
            let intervalId;
            let colorInterval = 1000; // Starting interval of 1 second
            let speedUpClicks = 0;
            let slowDownClicks = 0;
            const maxClicks = 5;
            // let isPlaying = false; // Track if the light is currently playing
        
            function getRandomColor() {
                return colors[Math.floor(Math.random() * colors.length)];
            }
        
            function startColorChange() {
                // Apply CSS transitions for smooth color change
                document.body.style.transition = `background-color ${colorInterval / 1000}s, color ${colorInterval / 1000}s`;
        
                intervalId = setInterval(() => {
                    document.body.style.color = getRandomColor();
                    document.body.style.backgroundColor = getRandomColor();
                }, colorInterval);
        
                isPlaying = true;
                document.getElementById('colorChangeButton').textContent = 'Turn off the light';
            }
        
            function stopColorChange() {
                clearInterval(intervalId);
                intervalId = null;
                isPlaying = false;
                document.getElementById('colorChangeButton').textContent = 'Turn on the light';
            }
        
            document.getElementById('colorChangeButton').addEventListener('click', () => {
                if (isPlaying) {
                    stopColorChange();
                } else {
                    startColorChange();
                }
            });
        
            function adjustSpeed() {
                if (speedUpClicks > 0) {
                    colorInterval = Math.max(100, colorInterval - 200); // Decrease interval, minimum 100ms
                    speedUpClicks--;
                }
                if (slowDownClicks > 0) {
                    colorInterval += 200; // Increase interval
                    slowDownClicks--;
                }
                if (intervalId) {
                    stopColorChange();
                    startColorChange();
                }
            }
        
            document.getElementById('speedUpButton').addEventListener('click', () => {
                if (speedUpClicks < maxClicks) {
                    speedUpClicks++;
                    adjustSpeed();
                }
            });
        
            document.getElementById('slowDownButton').addEventListener('click', () => {
                if (slowDownClicks < maxClicks) {
                    slowDownClicks++;
                    adjustSpeed();
                }
            });
        
            document.getElementById('stopAndBlackButton').addEventListener('click', () => {
                stopColorChange();
                document.body.style.transition = ''; // Remove transitions when stopping
                document.body.style.backgroundColor = 'black'; // Set background to black
                document.body.style.color = 'white'; // Optional: Set text color to white for better visibility
            });
        </script>
        <script>
        function showVideo() {
        var modal = document.getElementById("fullscreenVideoModal");
        var video = document.getElementById("popupVideoPlayer");
        
        // Display the modal
        modal.style.display = "flex";
        
        // Play the video
        video.play();
        
        // Make the video go full screen without controls
        if (video.requestFullscreen) {
            video.requestFullscreen();
        } else if (video.mozRequestFullScreen) { // Firefox
            video.mozRequestFullScreen();
        } else if (video.webkitRequestFullscreen) { // Chrome, Safari, Opera
            video.webkitRequestFullscreen();
        } else if (video.msRequestFullscreen) { // IE/Edge
            video.msRequestFullscreen();
        }
        
        // Ensure controls are not shown even in full screen
        video.controls = false;
        }
        
        function hideVideo() {
        var modal = document.getElementById("fullscreenVideoModal");
        var video = document.getElementById("popupVideoPlayer");
        
        // Hide the modal
        modal.style.display = "none";
        
        // Pause the video and reset time
        video.pause();
        video.currentTime = 0;
        
        // Exit full-screen mode if active
        if (document.exitFullscreen) {
            document.exitFullscreen();
        } else if (document.mozCancelFullScreen) { // Firefox
            document.mozCancelFullScreen();
        } else if (document.webkitExitFullscreen) { // Chrome, Safari, Opera
            document.webkitExitFullscreen();
        } else if (document.msExitFullscreen) { // IE/Edge
            document.msExitFullscreen();
        }
        }
        </script>
        <script>
        document.addEventListener('DOMContentLoaded', function() {
        const songInfo = document.getElementById('songInfo');
        const songModal = document.getElementById('songModal');
        const modalSongDetails = document.getElementById('modal-song-details');
        const closeButton = document.querySelector('.close-button');
        const currentSongDetails = document.getElementById('current-song-details');
        
        let previousSongTitle = extractSongTitle(currentSongDetails.textContent);
        
        // Array of 40 distinct colors
        const colorPalette = [
        '#00d15a', '#00ff75', '#0a0a23', '#191414', '#505050',
        '#0d0d2b', '#232332', '#404055', '#1a1a2e', '#2d2d3a',
        '#00d15a', '#00ff75', '#0a0a23', '#191414', '#505050',
        '#0f0f27', '#26262d', '#3b3b55', '#14141e', '#282838',
        '#00d15a', '#191414', '#0a0a23', '#00ff75', '#00d15a',
        '#171729', '#303043', '#484862', '#11111f', '#1b1b31',
        '#191414', '#00d15a', '#505050', '#0a0a23', '#191414',
        '#0c0c28', '#242440', '#3c3c58', '#13131d', '#292940',
        '#00d15a', '#0a0a23', '#191414', '#00ff75', '#505050',
        '#1a1a2b', '#33334f', '#4d4d67', '#0e0e29', '#272746'
        ];
        
        
        // Open modal when song-info is clicked
        songInfo.addEventListener('click', function() {
        // Extract and set only the song title in the modal content
        const songTitle = extractSongTitle(currentSongDetails.textContent);
        
        // If no song is playing, show the default message
        modalSongDetails.textContent = songTitle ? songTitle : "Welcome to BsFesta";
        
        // Change modal background color based on the song title
        songModal.style.backgroundColor = getBackgroundColor(songTitle);
        
        // Show the modal
        songModal.style.display = "block";
        });
        
        // Close modal when the close button is clicked
        closeButton.addEventListener('click', function() {
        songModal.style.display = "none";
        });
        
        // Close modal when clicking outside of the modal content
        window.addEventListener('click', function(event) {
        if (event.target === songModal) {
            songModal.style.display = "none";
        }
        });
        
        // Function to determine background color based on the song title
        function getBackgroundColor(songTitle) {
        if (!songTitle) {
            return '#2c3e50'; // Default color when no song is playing
        }
        // Generate an index for the color palette based on the song title
        let index = 0;
        for (let i = 0; i < songTitle.length; i++) {
            index += songTitle.charCodeAt(i); // Sum up character codes
        }
        // Limit index to the number of colors in the palette (40)
        index = index % colorPalette.length;
        
        return colorPalette[index]; // Return a color from the palette
        }
        
        // Function to extract only the song title from the full string
        function extractSongTitle(songDetails) {
        if (songDetails.includes(' - ')) {
            return songDetails.split(' - ')[0]; // Split by ' - ' and return the first part (the song title)
        } else if (songDetails === '') {
            return null; // No song playing
        } else {
            return songDetails; // If there's no ' - ', return the whole string
        }
        }
        
        // Function to update the modal when the song changes
        function updateModalIfSongChanges() {
        const newSongTitle = extractSongTitle(currentSongDetails.textContent);
        
        // Check if the song title has changed
        if (newSongTitle !== previousSongTitle) {
            // Update modal background color if song title has changed
            songModal.style.backgroundColor = getBackgroundColor(newSongTitle);
        
            // Update the modal content to reflect the current song title or the welcome message
            modalSongDetails.textContent = newSongTitle ? newSongTitle : "Welcome to BsFesta";
        
            previousSongTitle = newSongTitle; // Update previous title
        }
        }
        
        // Example function to stop the song and display "Welcome to BS"
        function stopSong() {
        currentSongDetails.textContent = ''; // Clear the song details
        updateModalIfSongChanges(); // Update modal to reflect the stopped state
        }
        
        // Check for song changes every 5 seconds
        setInterval(() => {
        updateModalIfSongChanges(); // Check if song has changed
        }, 5000);
        
        // Simulating stopping the song after 10 seconds (for testing purposes)
        setTimeout(() => {
        stopSong(); // Call the stop function to simulate stopping the song
        }, 10000); // 10 seconds
        });
        
        </script>
        
        <script>
        // JavaScript for song search functionality
        window.addEventListener('DOMContentLoaded', (event) => {
                const searchBar = document.getElementById('search-bar');
                const clearButton = document.getElementById('clear-button');
                const songs = document.querySelectorAll('#song-list li');
        
                searchBar.addEventListener('input', function() {
                    let searchTerm = this.value.toLowerCase().trim();
                    let songFound = false; // To track if we found a song
        
                    // Clear highlights if search term is empty
                    if (searchTerm === '') {
                        songs.forEach(song => {
                            song.style.backgroundColor = ''; // Remove all highlights
                        });
                        return; // Stop further execution when the search is empty
                    }
        
                    // Search and highlight songs that match the input
                    songs.forEach(song => {
                        let songTitle = song.querySelector('.song-title').innerText.toLowerCase();
                        if (songTitle.includes(searchTerm)) {
                            song.style.backgroundColor = '#004cff'; // Highlight matched song
                            if (!songFound) { // Scroll to the first matching song
                                song.scrollIntoView({ behavior: 'smooth', block: 'center' });
                                songFound = true;
                            }
                        } else {
                            song.style.backgroundColor = ''; // Reset if not matched
                        }
                    });
                });
        
                // Clear button functionality
                clearButton.addEventListener('click', function() {
                    searchBar.value = ''; // Clear the search bar
                    songs.forEach(song => {
                        song.style.backgroundColor = ''; // Remove all highlights
                    });
                });
            });
        </script>
        <script>
        const songList = document.querySelectorAll('#song-list li');
        const playlistElement = document.getElementById('playlist');
        const audioPlayer = document.getElementById('audio-player'); // Access the hidden audio element
        const savePlaylistBtn = document.getElementById('save-playlist-btn');
        const notification = document.getElementById('notification'); // Notification element
        
        let playlist = [];
        let currentSongIndex = -1;
        let isPlaying = false;
        
        // Add click event to add songs to the playlist
        songList.forEach(songItem => {
           const addToPlaylistBtn = songItem.querySelector('.add-to-playlist');
           addToPlaylistBtn.addEventListener('click', () => {
               const songTitle = songItem.querySelector('.song-title').innerText;
               const songSrc = songItem.getAttribute('data-src');
        
               // Check if the song is already in the playlist
               if (!playlist.some(song => song.src === songSrc)) {
                   playlist.push({ title: songTitle, src: songSrc });
                   updatePlaylist();
        
                   // If a song is currently playing, change the play button of that song to pause
                   if (isPlaying && currentSongIndex !== -1) {
                       const currentPlayBtn = playlistElement.querySelectorAll('.play-song');
                       currentPlayBtn[currentSongIndex].classList.remove('fa-play');
                       currentPlayBtn[currentSongIndex].classList.add('fa-pause');
                   }
               }
           });
        });
        
        function updatePlaylist() {
           playlistElement.innerHTML = '';
           playlist.forEach((song, index) => {
               const li = document.createElement('li');
               li.innerHTML = `
                   <span>${song.title}</span>
                   <div class="options">
                       <i class="fa-solid fa-play play-song" title="Play"></i>
                       <i class="fa-solid fa-trash delete-song" title="Delete"></i>
                   </div>
               `;
               playlistElement.appendChild(li);
        
               const playBtn = li.querySelector('.play-song');
               const deleteBtn = li.querySelector('.delete-song');
        
               playBtn.addEventListener('click', () => togglePlayPause(index, playBtn));
               deleteBtn.addEventListener('click', () => deleteSong(index));
           });
        }
        
        function togglePlayPause(index, playBtn) {
           // If the same song is playing, pause it
           if (currentSongIndex === index && isPlaying) {
               audioPlayer.pause();
               isPlaying = false;
               playBtn.classList.remove('fa-pause');
               playBtn.classList.add('fa-play');
           } else {
               // If a different song is clicked
               currentSongIndex = index;
               if (isPlaying) {
                   // If currently playing, pause the previous song's play button
                   const currentPlayBtn = playlistElement.querySelectorAll('.play-song');
                   currentPlayBtn[currentSongIndex].classList.remove('fa-pause');
                   currentPlayBtn[currentSongIndex].classList.add('fa-play');
               }
        
               playSong(playlist[index].src);
               isPlaying = true;
               updatePlayIcons(index, playBtn);
           }
        }
        
        function updatePlayIcons(activeIndex, activePlayBtn) {
           const allPlayBtns = document.querySelectorAll('.play-song');
           allPlayBtns.forEach((btn, index) => {
               if (index === activeIndex) {
                   btn.classList.remove('fa-play');
                   btn.classList.add('fa-pause');
               } else {
                   btn.classList.remove('fa-pause');
                   btn.classList.add('fa-play');
               }
           });
        }
        
        function playSong(src) {
           audioPlayer.src = src; // Set the audio source
           audioPlayer.play(); // Play the song
           updateProgressBar(); // Start updating the progress bar
        }
        
        function updateProgressBar() {
           // const progressBar = document.querySelector('.progress');
           audioPlayer.addEventListener('timeupdate', () => {
               if (currentSongIndex !== -1) {
                   const progress = (audioPlayer.currentTime / audioPlayer.duration) * 100;
                   progressBar.style.width = `${progress}%`;
               }
           });
        }
        
        audioPlayer.addEventListener('ended', () => {
           // Play the next song in the playlist when the current one ends
           if (currentSongIndex < playlist.length - 1) {
               currentSongIndex++;
               playSong(playlist[currentSongIndex].src);
               updatePlayIcons(currentSongIndex);
           } else {
               // Reset if the playlist ends
               currentSongIndex = -1;
               isPlaying = false;
               const playBtns = playlistElement.querySelectorAll('.play-song');
               playBtns.forEach(btn => {
                   btn.classList.remove('fa-pause');
                   btn.classList.add('fa-play');
               });
           }
        });
        
        savePlaylistBtn.addEventListener('click', savePlaylist);
        
        function savePlaylist() {
           localStorage.setItem('playlist', JSON.stringify(playlist));
           showNotification('Liked list has Updated!'); // Show notification
        }
        
        function showNotification(message) {
           notification.innerText = message; // Set the message
           notification.style.display = 'block'; // Show the notification
           setTimeout(() => {
               notification.style.display = 'none'; // Hide after 3 seconds
           }, 3000);
        }
        
        function deleteSong(index) {
           playlist.splice(index, 1);
           updatePlaylist();
           if (currentSongIndex === index) {
               audioPlayer.pause();
               currentSongIndex = -1; // Reset current song index if deleted song is playing
               isPlaying = false;
           }
        }
        
        // Load saved playlist from local storage (if any)
        window.onload = function () {
           const savedPlaylist = JSON.parse(localStorage.getItem('playlist'));
           if (savedPlaylist) {
               playlist = savedPlaylist;
               updatePlaylist();
           }
        };
        </script>
        <script>
            document.addEventListener("DOMContentLoaded", function () {
        const playlist = document.querySelectorAll("#playlist li");
        const audioPlayer = document.getElementById("audio-player");
        const playPauseBtn = document.getElementById("play-pause-btn");
        const prevBtn = document.getElementById("previous-btn");
        const nextBtn = document.getElementById("next-btn");
        const progressBar = document.querySelector("#progress-bar");
        const progress = document.querySelector("#progress-bar .progress");
        const shuffleBtn = document.getElementById("shuffle-btn");
        const repeatBtn = document.getElementById("repeat-btn");
        const volumeBar = document.getElementById("volume-bar");
    
        let currentSongIndex = 0;
        let isPlaying = false;
        let isShuffle = false;
        let isRepeat = false;
    
        // Load and highlight the current song based on index
        function loadSong(index) {
            playlist.forEach((li, i) => li.classList.toggle("active", i === index));
            audioPlayer.src = playlist[index].getAttribute("data-src");
        }
    
        // Play or pause the current song
        function togglePlayPause() {
            if (isPlaying) {
                audioPlayer.pause();
                playPauseBtn.innerHTML = '<i class="fa-solid fa-play"></i>';
            } else {
                audioPlayer.play();
                playPauseBtn.innerHTML = '<i class="fa-solid fa-pause"></i>';
            }
            isPlaying = !isPlaying;
        }
    
        // Play the next song
        function playNext() {
            // If shuffle is active, select a random song
            if (isShuffle) {
                currentSongIndex = Math.floor(Math.random() * playlist.length);
            } else {
                // Otherwise, move to the next song, loop if needed
                currentSongIndex = (currentSongIndex + 1) % playlist.length;
            }
            loadSong(currentSongIndex);
            audioPlayer.play();
            isPlaying = true;
            playPauseBtn.innerHTML = '<i class="fa-solid fa-pause"></i>';
        }
    
        // Play the previous song
        function playPrevious() {
            // Go to the previous song, and if at the start, loop to the last song
            currentSongIndex = (currentSongIndex - 1 + playlist.length) % playlist.length;
            loadSong(currentSongIndex);
            audioPlayer.play();
            isPlaying = true;
            playPauseBtn.innerHTML = '<i class="fa-solid fa-pause"></i>';
        }
    
        // Update the progress bar
        function updateProgress() {
            const progressPercent = (audioPlayer.currentTime / audioPlayer.duration) * 100;
            progress.style.width = `${progressPercent}%`;
        }
    
        // Set song position when progress bar is clicked
        function setProgress(e) {
            const width = this.clientWidth;
            const clickX = e.offsetX;
            const duration = audioPlayer.duration;
            audioPlayer.currentTime = (clickX / width) * duration;
        }
    
        // Click event to play a specific song from the playlist
        playlist.forEach((li, index) => {
            li.addEventListener("click", () => {
                currentSongIndex = index;
                loadSong(currentSongIndex);
                audioPlayer.play();
                isPlaying = true;
                playPauseBtn.innerHTML = '<i class="fa-solid fa-pause"></i>';
            });
        });
    
        // Event listeners for buttons
        playPauseBtn.addEventListener("click", togglePlayPause);
        prevBtn.addEventListener("click", playPrevious);
        nextBtn.addEventListener("click", playNext);
        progressBar.addEventListener("click", setProgress);
    
        // Update progress bar as the song plays
        audioPlayer.addEventListener("timeupdate", updateProgress);
    
        // Shuffle functionality
        shuffleBtn.addEventListener("click", () => {
            isShuffle = !isShuffle;
            shuffleBtn.classList.toggle("active", isShuffle);
        });
    
        // Repeat functionality
        repeatBtn.addEventListener("click", () => {
            isRepeat = !isRepeat;
            repeatBtn.classList.toggle("active", isRepeat);
        });
    
        // Auto-repeat song when it ends, or move to the next song
        audioPlayer.addEventListener("ended", () => {
            if (isRepeat) {
                audioPlayer.currentTime = 0;
                audioPlayer.play();
            } else {
                playNext();
            }
        });
    
        // Volume control
        volumeBar.addEventListener("input", (e) => {
            audioPlayer.volume = e.target.value / 100;
        });
    
        // Load the first song on page load
        loadSong(currentSongIndex);
    });
    
        </script>
        </body>
        </html> 
        </body>
        </html>
        
